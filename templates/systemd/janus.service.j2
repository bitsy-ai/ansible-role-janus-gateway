[Unit]
Description=Janus Gateway
Requires=network.target
After=syslog.target network.target

[Service]
Type=forking
User={{ janus_user }}
RuntimeDirectory={{ janus_user }}
LogsDirectory={{ janus_user }}
RuntimeDirectoryMode=755
WorkingDirectory={{ janus_install_dir }}
Environment="LD_LIBRARY_PATH=LD_LIBRARY_PATH=/lib:/usr/lib:/usr/local/lib"
ExecStart={{ janus_install_dir }}/bin/janus \
    --pid-file={{ janus_pid_file }} \
    --cwd-path={{ janus_install_dir }} \
    --configs-folder={{ janus_configs_dir }} \
    --log-file={{ janus_logs_dir }}

[Install]
WantedBy=multi-user.target